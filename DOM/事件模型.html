<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<!-- 	<p>addEventListener():方法用于在当前节点或对象上，定义一个特定事件的监听函数。</p>
	<p>target.addEventListener(type, listener[, useCapture]) </p>
	<li>：事件名称，大小写敏感。`</li>
	<li>ener：监听函数。事件发生时，会调用该监听函数。`</li>
	<li>apture：布尔值，表示监听函数是否在捕获阶段（capture）触发`</li>
	<p>removeEventListener()移动addEventListener方法添加的监听事件</p>
	<p>dispatchEvent方法在当前节点上触发指定事件，从而触发监听函数的执行。该方法返回一个布尔值，只要有一个监听函数调用了Event.preventDefault()则返回值为false，否则为true</p>
	<input type="button" value="Listener" id="btn">
	<script type="text/javascript">
		function hello(){
			alert("hello world")
		}
		var btn=document.getElementById('btn');
		btn.addEventListener("click",hello,false)

		//向监听函数传递参数，可以用匿名函数包装一下监听函数
		function print(x){
			alert(x);
		};
		btn.addEventListener("click",function(){
			print("hello javaScript");
		},false)

		btn.removeEventListener("click",hello,false);
		var event=new Event("click");
		var a=!btn.dispatchEvent(event);
		if (a){
			alert('事件取消')
		}else{
			alert('事件未取消')
		}
	</script> -->

<!-- 	<p>this对象的指向</p>
	<P id="p">监听函数内部的this对象，常常需要指向触发事件的那个Element节点</P>
	
	<script type="text/javascript">
		var id="内部的this对象总是指向触发事件的那个节点";
		
		var p=document.getElementById('p');
		function point(){
			alert(this.id);//指向p标签的id属性
		}
		p.addEventListener('click',point,false)

	</script> -->

	<p>事件的传播的三个阶段，</p>
	<li>第一阶段：从window对象传导到目标节点，称为“捕获阶段”（capture phase）</li>
	<li>第二阶段：在目标节点上触发，称为“目标阶段”（target phase）。</li>
	<li>第三阶段：从目标节点传导回window对象，称为“冒泡阶段”（bubbling phase）。</li>
	<div>
		<p>Click Me</p>
	</div>
	<div id="d"></div>
	<script type="text/javascript">
		var phases={
			1:"capture",
			2:"target",
			3:"bubble"
		};
		var div=document.querySelector("div");
		var p=document.querySelector("p");
		var d=document.getElementById("d")
		div.addEventListener("click",callback,true)//true 事件捕获阶段
		p.addEventListener("click",callback,true);
		div.addEventListener("click",callback,false);
		p.addEventListener("click",callback,false);

		function callback(event){
			var tag=event.currentTarget.tagName//返回监听触发事件的节点，既当前处理该事件的元素，文档和窗口
			var phase=phases[event.eventPhase]//返回时监听事件的状态 1是捕获2目标3冒泡
			// div.innerHTML="tag:"+tag+"eventPhase:"+phase;
			d.innerHTML+="tag:"+tag+"<br/>"+"eventPhase:"+phase+"<br/>";
		}
	</script>
</body>
</html>